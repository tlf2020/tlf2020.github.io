{"version":3,"sources":["webpack:///./src/app/authentication/authentication.module.ts","webpack:///./src/app/authentication/authentication.routing.ts","webpack:///./src/app/authentication/lock/lock.component.html","webpack:///./src/app/authentication/lock/lock.component.ts","webpack:///./src/app/authentication/login/login.component.html","webpack:///./src/app/authentication/login/login.component.ts"],"names":[],"mappings":"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","file":"authentication-authentication-module.js","sourcesContent":["import { NgModule } from \"@angular/core\";\r\nimport { RouterModule } from \"@angular/router\";\r\nimport { CommonModule } from \"@angular/common\";\r\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\r\n\r\nimport { NgbModule } from \"@ng-bootstrap/ng-bootstrap\";\r\n\r\nimport { LockComponent } from \"./lock/lock.component\";\r\nimport { LoginComponent } from \"./login/login.component\";\r\n\r\nimport { AuthenticationRoutes } from \"./authentication.routing\";\r\nimport { SerivcesModule } from \"../services/services.module\";\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(AuthenticationRoutes),\r\n    NgbModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    SerivcesModule\r\n  ],\r\n  declarations: [LoginComponent, LockComponent]\r\n})\r\nexport class AuthenticationModule {}\r\n","import { Routes } from \"@angular/router\";\r\n\r\nimport { LockComponent } from \"./lock/lock.component\";\r\nimport { LoginComponent } from \"./login/login.component\";\r\n\r\nexport const AuthenticationRoutes: Routes = [\r\n  {\r\n    path: \"\",\r\n    children: [\r\n      { path: \"\", redirectTo: \"login\", pathMatch: \"full\" },\r\n      {\r\n        path: \"lock\",\r\n        component: LockComponent\r\n      },\r\n      {\r\n        path: \"login\",\r\n        component: LoginComponent\r\n      }\r\n    ]\r\n  }\r\n];\r\n","module.exports = \"<div class=\\\"auth-wrapper d-flex no-block justify-content-center align-items-center\\\" style=\\\"background:url(assets/images/big/auth-bg.jpg) no-repeat center center;\\\">\\r\\n    <div class=\\\"auth-box\\\">\\r\\n        <div>\\r\\n            <div class=\\\"logo\\\">\\r\\n                <span class=\\\"db\\\"><img alt=\\\"thumbnail\\\" class=\\\"rounded-circle\\\" width=\\\"100\\\" src=\\\"assets/images/users/1.jpg\\\"></span>\\r\\n                <h5 class=\\\"font-medium m-b-20\\\">Genelia</h5>\\r\\n            </div>\\r\\n            <!-- Form -->\\r\\n            <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-12\\\">\\r\\n                    <form class=\\\"form-horizontal m-t-20\\\" action=\\\"index.html\\\">\\r\\n                        <div class=\\\"form-group row\\\">\\r\\n                            <div class=\\\"col-12\\\">\\r\\n                                <input class=\\\"form-control form-control-lg\\\" type=\\\"password\\\" required=\\\"\\\" placeholder=\\\"Password\\\">\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group text-center\\\">\\r\\n                            <div class=\\\"col-xs-12 p-b-20\\\">\\r\\n                                <button class=\\\"btn btn-block btn-lg btn-info\\\" type=\\\"submit\\\">LOGIN</button>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </form>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\"","import { Component } from \"@angular/core\";\r\n\r\n@Component({\r\n  selector: \"app-lock\",\r\n  templateUrl: \"./lock.component.html\"\r\n})\r\nexport class LockComponent {\r\n  constructor() {}\r\n}\r\n","module.exports = \"<div class=\\\"auth-wrapper d-flex no-block justify-content-center align-items-center\\\" style=\\\"background:url(assets/images/big/auth-bg.jpg) no-repeat;background-size: 100% 100%;\\\">\\r\\n    <div class=\\\"auth-box\\\">\\r\\n        <div id=\\\"loginform\\\" [ngClass]=\\\"{'d-none': recoverform}\\\">\\r\\n            <div class=\\\"logo\\\">\\r\\n                <!-- <span class=\\\"db\\\"><img src=\\\"assets/logo.png\\\" style=\\\"width: 150px; height: 150px;\\\" alt=\\\"logo\\\" /></span> -->\\r\\n                <h5 class=\\\"font-medium m-b-20\\\">Sign In to Admin</h5>\\r\\n            </div>\\r\\n            <!-- Form -->\\r\\n            <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-12\\\">\\r\\n                    <form class=\\\"form-horizontal m-t-20\\\" [formGroup]=\\\"loginForm\\\"  id=\\\"loginform\\\" (ngSubmit)=\\\"login($event)\\\">\\r\\n                        <div class=\\\"input-group mb-3\\\">\\r\\n                            <div class=\\\"input-group-prepend\\\">\\r\\n                                <span class=\\\"input-group-text\\\" id=\\\"basic-addon1\\\"><i class=\\\"ti-user\\\"></i></span>\\r\\n                            </div>\\r\\n                            <input formControlName=\\\"email\\\" type=\\\"text\\\" class=\\\"form-control form-control-lg\\\" placeholder=\\\"Username\\\" aria-label=\\\"Username\\\" aria-describedby=\\\"basic-addon1\\\">\\r\\n                        </div>\\r\\n                        <div class=\\\"input-group mb-3\\\">\\r\\n                            <div class=\\\"input-group-prepend\\\">\\r\\n                                <span class=\\\"input-group-text\\\" id=\\\"basic-addon2\\\"><i class=\\\"ti-lock\\\"></i></span>\\r\\n                            </div>\\r\\n                            <input formControlName=\\\"password\\\" type=\\\"password\\\" class=\\\"form-control form-control-lg\\\" placeholder=\\\"Password\\\" aria-label=\\\"Password\\\" aria-describedby=\\\"basic-addon1\\\">\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group row\\\" *ngIf=\\\"!!loginError\\\">\\r\\n                            <div class=\\\"col-md-12\\\">\\r\\n                                <div class=\\\"custom-control custom-checkbox\\\" align=\\\"center\\\">\\r\\n                                    <a (click)=\\\"toggleRecoverForm()\\\" href=\\\"javascript:void(0)\\\" id=\\\"to-recover\\\" class=\\\"text-dark\\\">\\r\\n                                        <i class=\\\"fa fa-lock m-r-5\\\"></i>\\r\\n                                        {{loginError}}\\r\\n                                    </a>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div><!--                         <div class=\\\"form-group row\\\">\\r\\n                            <div class=\\\"col-md-12\\\">\\r\\n                                <div class=\\\"custom-control custom-checkbox\\\" align=\\\"center\\\">\\r\\n                                    <a (click)=\\\"toggleRecoverForm()\\\" href=\\\"javascript:void(0)\\\" id=\\\"to-recover\\\" class=\\\"text-dark\\\">\\r\\n                                        <i class=\\\"fa fa-lock m-r-5\\\"></i> Forgot password?</a>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n -->                        <div class=\\\"form-group text-center\\\">\\r\\n                            <div class=\\\"col-xs-12 p-b-20\\\">\\r\\n                                <button class=\\\"btn btn-block btn-lg btn-info\\\" type=\\\"submit\\\">Log In</button>\\r\\n                            </div>\\r\\n                        </div>\\r\\n<!--                         <div class=\\\"row\\\">\\r\\n                            <div class=\\\"col-xs-12 col-sm-12 col-md-12 m-t-10 text-center\\\">\\r\\n                                <div class=\\\"social\\\">\\r\\n                                    <a href=\\\"javascript:void(0)\\\" class=\\\"btn btn-facebook m-r-5\\\" data-toggle=\\\"tooltip\\\" title=\\\"\\\" data-original-title=\\\"Login with Facebook\\\"> <i aria-hidden=\\\"true\\\" class=\\\"fab fa-facebook\\\"></i> </a>\\r\\n                                    <a href=\\\"javascript:void(0)\\\" class=\\\"btn btn-googleplus\\\" data-toggle=\\\"tooltip\\\" title=\\\"\\\" data-original-title=\\\"Login with Google\\\"> <i aria-hidden=\\\"true\\\" class=\\\"fab fa-google-plus\\\"></i> </a>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group m-b-0 m-t-10\\\">\\r\\n                            <div class=\\\"col-sm-12 text-center\\\">\\r\\n                                Don't have an account? <a href=\\\"#/authentication/signup\\\" class=\\\"text-info m-l-5\\\"><b>Sign Up</b></a>\\r\\n                            </div>\\r\\n                        </div>\\r\\n -->                    </form>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div id=\\\"recoverform\\\" [ngClass]=\\\"{'d-block': recoverform}\\\">\\r\\n            <div class=\\\"logo\\\">\\r\\n                <span class=\\\"db\\\"><img src=\\\"assets/images/logo-icon.png\\\" alt=\\\"logo\\\" /></span>\\r\\n                <h5 class=\\\"font-medium m-b-20\\\">Recover Password</h5>\\r\\n                <span>Enter your Email and instructions will be sent to you!</span>\\r\\n            </div>\\r\\n            <div class=\\\"row m-t-20\\\">\\r\\n                <!-- Form -->\\r\\n                <form class=\\\"col-12\\\">\\r\\n                    <!-- email -->\\r\\n                    <div class=\\\"form-group row\\\">\\r\\n                        <div class=\\\"col-12\\\">\\r\\n                            <input class=\\\"form-control form-control-lg\\\" type=\\\"email\\\" required=\\\"\\\" placeholder=\\\"Username\\\">\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <!-- pwd -->\\r\\n                    <div class=\\\"row m-t-20\\\">\\r\\n<!--                         <span class=\\\"col-4\\\">\\r\\n                            <button (click)=\\\"showRecoverForm()\\\" href=\\\"javascript:void(0)\\\" id=\\\"to-recover\\\" class=\\\"text-dark btn btn-lg\\\"><i class=\\\"fa fa-cancel m-r-5\\\"></i>Login</button>\\r\\n                        </span>\\r\\n -->                        <div class=\\\"col-12\\\">\\r\\n                            <button class=\\\"btn btn-block btn-lg btn-danger\\\" type=\\\"submit\\\" name=\\\"action\\\">Reset</button>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </form>\\r\\n            </div>\\r\\n            <div class=\\\"form-group row\\\">\\r\\n                <div class=\\\"col-md-12\\\" align=\\\"center\\\">\\r\\n                        <a (click)=\\\"toggleRecoverForm()\\\" href=\\\"javascript:void(0)\\\" id=\\\"to-recover\\\" class=\\\"text-dark btn btn-lg\\\"><i class=\\\"fa fa-cancel m-r-5\\\"></i>Cancel</a>\\r\\n                </div>\\r\\n            </div>\\r\\n\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\"","import { Component } from '@angular/core';\r\nimport { FormGroup, Validators, FormBuilder } from '@angular/forms';\r\nimport {\r\n  UserService,\r\n  AppHttpHandledError,\r\n  AppServerResponse\r\n} from '../../services/authentication/user.service';\r\nimport { LoadingUiService } from '../../services/loading-ui.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html'\r\n})\r\nexport class LoginComponent {\r\n  public loginForm: FormGroup = this.fb.group({\r\n    email: [\r\n      '',\r\n      [Validators.required, Validators.minLength(3), Validators.maxLength(56)]\r\n    ],\r\n    password: [\r\n      '',\r\n      [Validators.required, Validators.minLength(6), Validators.maxLength(32)]\r\n    ]\r\n  });\r\n\r\n  constructor(\r\n    public fb: FormBuilder,\r\n    private router: Router,\r\n    public userService: UserService,\r\n    public loadingUiService: LoadingUiService\r\n  ) {}\r\n\r\n  loginform = true;\r\n  recoverform = false;\r\n\r\n  inputError = { email: null, password: null };\r\n  loginError: string;\r\n  error: any;\r\n\r\n  toggleRecoverForm() {\r\n    this.loginform = !this.loginform;\r\n    this.recoverform = !this.recoverform;\r\n  }\r\n\r\n  login($event) {\r\n    console.log($event);\r\n    this.doLogin($event);\r\n  }\r\n\r\n  doLogin(event): void {\r\n    this.loginError = '';\r\n    this.loadingUiService.setLoading(true);\r\n    this.userService.login(this.loginForm.value).subscribe(\r\n      (data: AppServerResponse) => {\r\n        console.log(data);\r\n        if (!data.success) {\r\n          // todo: remove it asap\r\n          this.loginError = data.message;\r\n          this.loadingUiService.setLoading(false);\r\n        } else {\r\n          console.log('ffffffffff');\r\n          this.router\r\n            .navigate(['/manage'])\r\n            .then(a => this.loadingUiService.setLoading(false));\r\n        }\r\n      },\r\n      (handled: AppHttpHandledError) => {\r\n        console.log(handled);\r\n        // this.loginError = error.error.statusText + ' : ' + error.error.error.message;\r\n        if (handled.error.statusText) {\r\n          const loginError = handled.error.error;\r\n          if (loginError && loginError.error) {\r\n            this.loginError = loginError.message;\r\n          } else if (loginError) {\r\n            this.loginError = '';\r\n            this.inputError.email = loginError.email;\r\n            this.inputError.password = loginError.password;\r\n          } else {\r\n            this.loginError = handled.error.statusText;\r\n            console.log(this.loginError);\r\n          }\r\n        } else {\r\n          this.loginError = JSON.stringify(handled.error);\r\n        }\r\n        this.loadingUiService.setLoading(false);\r\n      }\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}